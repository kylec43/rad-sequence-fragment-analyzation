<!DOCTYPE html>
<html>

    <head>

        <meta charset="utf-8">
        <title>RAD-Seq</title>
        <%- include('partials/css.ejs') %>
    </head>

    <body>
        <%- include ('partials/nav.ejs', {page: 'change_email', user}) %>

        <div class="card rad-card margin-center margin-top-lg">
            <div class="rad-card-header">
                <h3 class="card-title rad-card-text-header">Change Email</h3>
            </div>
            <hr>
            <div class="card-body rad-card-body">
                <p id="error" class="rad-card-error-message text-center"><%- errorMessage ? errorMessage : "" %></p>               
                <br>
                <% if (successMessage !== null) { %>
                    <p class="text-center rad-card-success-message"><%= successMessage %></p>
                    <br>
                <% } %>
                <form action="/change_email" id="change_email_form">
                    <input type="hidden" name="_csrf" value="<%= csrfToken %>">
                    <div class="form-group">
                        <h6 class="rad-card-text-header">Current Email</h6>
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text"> <i class="fa fa-user"></i> </span>
                            </div>
                            <input type="email" class="form-control" name="currentEmail" id="currentEmail" value="<%= user.email %>" disabled>
                        </div>
                    </div>
                    <br>
                    <div class="form-group">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text"> <i class="fa fa-lock"></i></span>
                            </div>
                            <input class="form-control" id="password" name="password" placeholder="Password" type="password" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text"> <i class="fa fa-user"></i> </span>
                            </div>
                            <input class="form-control" id="newEmail" name="newEmail" placeholder="New email" type="email" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text"> <i class="fa fa-user"></i> </span>
                            </div>
                            <input class="form-control" id="confirmNewEmail" name="confirmNewEmail" placeholder="Confirm new email" type="email" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <button class="rad-button margin-center" type="button" id="changeEmailButton">Change</button>
                    </div>
                </form>
            </div>
        </div>

        <%- include('partials/scripts.ejs') %>
        <script src="scripts/change_password.js"></script>
    </body>


</html>